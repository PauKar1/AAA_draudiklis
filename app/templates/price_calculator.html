{% extends "base.html" %}

{% block content %}
    <h1>Skaičiuoti Kainą</h1>
    <form method="post" action="{% url 'calculate_price' %}">
        {% csrf_token %}

        <h2>Kur keliausite:</h2>
        <div id="map-container">
            <img src="{% static 'images/continents_map.png' %}" usemap="#continents-map" alt="Map of continents">
            <map name="continents-map">
                <area shape="rect" coords="34,44,270,350" href="?country=Europe" alt="Europe">
                <area shape="rect" coords="290,172,333,250" href="?country=Africa" alt="Africa">
                <area shape="rect" coords="337,300,444,450" href="?country=Asia" alt="Asia">
                <area shape="rect" coords="120,350,240,550" href="?country=North America" alt="North America">
                <area shape="rect" coords="100,560,150,700" href="?country=South America" alt="South America">
                <area shape="rect" coords="500,650,650,800" href="?country=Australia" alt="Australia">
                <area shape="rect" coords="700,800,750,850" href="?country=Antarctica" alt="Antarctica">
            </map>
        </div>

        <label for="country">Arba įveskite šalies pavadinimą:</label>
        <input type="text" id="country" name="country" required><br><br>

        <label for="travel-mode">Keliavimo būdas:</label>
        <select id="travel-mode" name="travel_mode">
            <option value="plane">Lėktuvas</option>
            <option value="car">Automobilis</option>
            <option value="motorcycle">Motociklas</option>
            <option value="ship">Laivas</option>
            <option value="bike">Dviratis</option>
            <option value="foot">Pėsčiomis</option>
        </select><br><br>

        <label for="trip-duration">Keliausite dienų skaičius:</label>
        <input type="number" id="trip-duration" name="trip_duration" required min="1"><br><br>

        <button type="submit">Skaičiuoti</button>
    </form>
    {% if total_price %}
    <div id="calculation-result">
        <h2>Preliminari kaina: {{ total_price }} EUR</h2>
        <a href="{% url 'registruoti_sutarti' %}" class="btn btn-primary">Registruoti sutartį</a>
    </div>
    {% endif %}
{% endblock %}
